#!) This is a test of traversal behaviors.
#) Note where the focus is originally.
#) The six boxed groups of widgets are frames and Row Columns.
#) The empty frames are not traversable.
#) The focus can be anywhere except on btn42 before you continue.

LocatePointer bb
WindowRaise bb
CompareVisual bb

ClickKey KTab
ClickKey KTab
ClickKey KTab
ClickKey KTab
CompareVisual btn1

LocatePointer toggle32
ClickMB Btn1

Continue

#) The focus is on btn42.

LocatePointer bb
WindowRaise bb
CompareVisual btn42
Continue

#) The focus has been restored to the spot where it was originally.

LocatePointer bb
WindowRaise bb
CompareVisual btn1
Continue

#Move the InstructionBox out of the way
#) A form containing two text widgets is managed.
#  The focus is moved to the first text widget.
#) Type a string into the first text field.
#  Click on any other widget or press Tab. Until you guess
#  the password for Text1, the test will keep resetting the focus to Text1.
#C)
#) The password is "meow".

WindowMove InstructionBox 700 5
WindowRaise bb
LocatePointer text1
InputString "random"
ClickKey KTab
CompareVisual text1
Wait 5

LocatePointer text1
ClickMB Btn1 2
InputString "meow"
ClickKey KTab
CompareVisual text1
Wait 5

Continue

#) Click on btn42. The focus goes back to Text1.
#) Type "insensitive" into Text1 and hit tab.
#  The widget becomes insensitive and the
#  focus moves to the next text widget.
#C)

WindowRaise bb
LocatePointer btn42
ClickMB Btn1
CompareVisual text1
LocatePointer text1
ClickMB Btn1 2
InputString "insensitive"
CompareVisual text1
ClickKey KTab
CompareVisual Form1
LocatePointer text1
ClickMB Btn1
CompareVisual Form1
Continue

#) Give the client window focus by clicking on the empty area below the
# empty frames and the text widgets.
#) You should see only one active, blinking insertion cursor. The other text
# widget should have a stippled insertion cursor which does not blink.
#) Click in the second text widget.
#) Click in the first text widget.
#) An error dialog should appear.
#) Unmanage the dialog. There should be only one text insertion cursor.
#C)

WindowRaise bb
LocatePointer text2 Down
ClickMB Btn1
CompareVisual Form1
LocatePointer text2
ClickMB Btn1
LocatePointer text1
ClickMB Btn1
ClickKey KReturn
CompareVisual Form1

Continue

#) Two more text widgets are managed.
#) Put the focus back into Text1.
#) Click MB1 in Text2.
#) Each time you try to put the focus into one of the other text widgets,
#it should set the focus back to Text1. If it cannot,
#it will issue a warning message.
#) Click rapidly in different text widgets. Make sure the
#location cursor and the insertion cursor stay together.
#) Try typing into the widgets as you click in them.
#Make sure the text goes where the insertion cursor
#and the location cursor are. At no point should you
#see multiple insertion cursors.
#E)

WindowRaise bb
LocatePointer Form1
CompareVisual Form1
LocatePointer text1
ClickMB Btn1
ClickKey KTab
CompareVisual Form1

LocatePointer text4
ClickMB Btn1
Wait 5
LocatePointer text2
ClickMB Btn1
Wait 5
LocatePointer text1
ClickMB Btn1
LocatePointer text2
ClickMB Btn1
CompareVisual Form1

InputString "foo"
LocatePointer text4
ClickMB Btn1
InputString "bar"
LocatePointer text1
ClickMB Btn1
InputString " moo"
LocatePointer text2
ClickMB Btn1 3
ClickKey KDelete
InputString "hello"
CompareVisual Form1

LocatePointer InstructionBox
LocatePointer bb
CompareVisual Form1

Exit
